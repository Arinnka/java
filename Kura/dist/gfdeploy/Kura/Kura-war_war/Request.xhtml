<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <h:body>
        <f:view> 
            <h:form>
                <table cellspacing="1" cellpadding="1" width="80%" border="2" > 
                    <tr>
                        <td> <h:commandLink value="Склады" action="Placa.xhtml" /></td>
                        <td> <h:commandLink value="Сметы" action="Request.xhtml" /> </td> 
                        <td> <h:commandLink value="Товары" action="Stuff.xhtml" /> </td>
                        <td><h:commandLink value="Запросы" action="Review.xhtml" /></td>
                        <td><h:commandLink value="Отчеты" action="Report.xhtml" /></td>  
                        <td> <h:commandLink value="Войти" action="login.xhtml" /></td>
                        <td><h:outputLabel value="You have entered as #{request.remoteUser}"/> </td> 
                    </tr>           
                </table>                
            </h:form>
            <br /> 
            <br /> 
            <br /> 
            <br /> 
            <br /> 
            <h:form>
                <h1>Список смет</h1>
                <table cellspacing="1" cellpadding="1" width="80%" border="2" > 
                    <tr>
                        <td> Объект </td>
                        <td> Материал</td>
                        <td> Количество </td>                                             
                    </tr> 
                    <c:forEach items="#{requestBean.getRequestInformation()}" var="m">
                        <tr> 
                            <td> #{m.idplace.name} </td>
                            <td> #{m.idstuff.stuffname} </td>
                            <td> #{m.amount} </td>                            
                            <td><div>
                                    <h:commandLink value="Редактировать смету"  action="#{requestBean.toRequest(m.idrequest)}" />
                                </div></td>
                            <td>    <div>
                                    <h:commandLink value="Удалить смету"  action="#{requestBean.deleteRequest(m.idrequest)}" />
                                </div></td>
                        </tr>                    
                    </c:forEach>
                </table> 
                <br />
                <br />                  
                <div> <h:commandLink value="Добавить смету" action="addRequest.xhtml" /> </div>
            </h:form>
        </f:view>
    </h:body>
</html>

